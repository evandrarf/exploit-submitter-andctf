from requests import *

URL_SUBMITTER='http://localhost:5000'
FLAG_TYPE = 'USER'

def exploit(ip):
  # Exploit code here
  pass

def main():
  ip_lists = open('ip_lists.txt', 'r').read().splitlines()
  
  for ip in ip_lists:
    print('[] TRYING IP:', ip)
    flag = exploit(ip)
    
    if flag is None:
      print('[-] FLAG NOT FOUND')
      continue
    r = request.post(URL_SUBMITTER + '/send_flag', data={'flag': flag, 'ip': ip, 'type': FLAG_TYPE})
    print('[-] FLAG SUBMITTED: ', flag)
    

if __name__ == '__main__':
  main()